# Cilium Helm Values
# Reference values for manual deployment
# Configured for CNI chaining with Kube-OVN

# CNI chaining configuration for Kube-OVN
cni:
  chainingMode: generic-veth
  customConf: true
  configMap: cni-configuration

# Routing mode
routingMode: native

# Disable source IP verification when chaining with Kube-OVN
# Required for NAT gateway compatibility - see Kube-OVN docs
enableSourceIPVerification: false

# Disable IPv4 masquerade (Kube-OVN handles this)
enableIPv4Masquerade: false

# Disable identity mark (required for chaining)
enableIdentityMark: false

# Device detection for Kube-OVN interfaces
devices: "eth+ ens+ ens3 ovn0 genev_sys_6081 vxlan_sys_4789"

# Bandwidth manager - disabled as Kube-OVN handles bandwidth
bandwidthManager:
  enabled: false

# Keep kube-proxy (K3s uses it)
kubeProxyReplacement: false

# Network policy enforcement
policyEnforcementMode: default

# Enable Hubble for observability
hubble:
  enabled: true
  relay:
    enabled: true
  ui:
    enabled: true

# Operator configuration
operator:
  replicas: 1

# Resource limits
resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 100m
    memory: 128Mi
